!function(F){"use strict";var e={vars:{container:null,main:null,nav:null,flyout:null,flyout_close:null,destinations_sidebar:null,destinations_main:null,search:null,search_mobile:null,search_toggle:null,search_box:null,search_box_mobile:null,overflow:null,overflow_toggle:null,overflow_menu:null,minimal_nav:null,minimal_toggle:null,login:null,login_form:null,login_error:null,loggedin:null,loggedin_dropdown:null,logout:null,can_login:!1,subscribe:null,subscribe_form:null,subscribe_error:null,subscribe_success:null,subscribe_use:null,subscribe_mobile:null,can_subscribe:!1,subscribe_footer_form:null,mobile_toggle:null,mobile_menu:null,mobile_nav:null,mobile_nav_close:null,can_animate:!0},setup:function(){var e,a,i,n,s,t,o,l,r,u,d,m,c,v,p,h,f,g,b,w,y,_,C,k,x,P,S,T,D,H,I,A,j=F("#main-nav-container"),L=F("#main-nav");return!(!j||!L)&&(e=F(L).find(".main-nav-nav a"),a=F("#main-nav-flyout"),i=F(a).find(".main-nav-flyout-close"),n=F(".main-nav-flyout-destinations-sidebar"),s=F(".main-nav-flyout-destinations-main"),t=F(".main-nav-search"),o=F("#main-nav-flyout-mobile-search"),l=F(".main-nav-mobile-search, .main-nav-minimal-search"),r=F(".main-nav-search form input[type=text]"),u=F("#main-nav-flyout-mobile-search form input[type=text]"),d=F(".main-nav-overflow"),m=F(".main-nav-overflow-toggle"),c=F(".main-nav-overflow-dropdown"),v=F(".minimal-nav .main-nav-minimal"),p=F(".main-nav-minimal-toggle"),h=F(".main-nav-login > a"),f=F(".main-nav-flyout-login form"),g=F(".main-nav-flyout-login-error"),b=F(".main-nav-loggedin > a, .main-nav-loggedin-pic"),w=F(".main-nav-loggedin-dropdown"),y=F(".main-nav-loggedin-dropdown-logout, .main-nav-mobile-loggedin-logout"),_=F(".main-nav-subscribe > a"),C=F(".main-nav-flyout-subscribe form"),k=F(".main-nav-flyout-subscribe-error"),x=F(".main-nav-flyout-subscribe-success"),P=F(".main-nav-flyout-subscribe-use-toggle"),S=F(".main-nav-mobile-subscribe"),D=F(".main-nav-mobile-toggle"),H=F("#main-nav-mobile"),I=F(".main-nav-mobile-collapsable"),A=F("#main-nav-mobile-close"),T=F("#main-footer .main-footer-subscribe form"),this.vars.container=j,this.vars.main=L,this.vars.nav=e,this.vars.flyout=a,this.vars.flyout_close=i,this.vars.destinations_sidebar=n,this.vars.destinations_main=s,this.vars.search=t,this.vars.search_mobile=o,this.vars.search_toggle=l,this.vars.search_box=r,this.vars.search_box_mobile=u,this.vars.overflow=d,this.vars.overflow_toggle=m,this.vars.overflow_menu=c,this.vars.minimal_nav=v,this.vars.minimal_toggle=p,this.vars.login=h,this.vars.login_form=f,this.vars.login_error=g,this.vars.loggedin=b,this.vars.loggedin_dropdown=w,this.vars.logout=y,this.vars.subscribe=_,this.vars.subscribe_form=C,this.vars.subscribe_error=k,this.vars.subscribe_success=x,this.vars.subscribe_use=P,this.vars.subscribe_mobile=S,this.vars.mobile_toggle=D,this.vars.mobile_menu=H,this.vars.mobile_nav=I,this.vars.mobile_nav_close=A,this.vars.subscribe_footer_form=T,!0)},events:function(){var l=this,i=this.vars.container,a=this.vars.nav,n=this.vars.flyout,e=this.vars.flyout_close,s=this.vars.destinations_sidebar,t=(this.vars.destinations_main,this.vars.search),o=(this.vars.search_mobile,this.vars.search_toggle),r=this.vars.search_box,u=(this.vars.search_box_mobile,this.vars.overflow,this.vars.overflow_toggle),d=this.vars.overflow_menu,m=(this.vars.minimal_nav,this.vars.minimal_toggle),c=this.vars.login,v=this.vars.login_form,p=this.vars.login_error,h=this.vars.loggedin,f=this.vars.loggedin_dropdown,g=this.vars.logout,b=this.vars.can_login,w=this.vars.subscribe,y=this.vars.subscribe_form,_=this.vars.subscribe_error,C=this.vars.subscribe_success,k=this.vars.subscribe_use,x=this.vars.subscribe_mobile,P=(this.vars.can_subscribe,this.vars.mobile_toggle),S=(this.vars.mobile_menu,this.vars.mobile_nav),T=this.vars.mobile_nav_close,D=this.vars.subscribe_footer_form,H="",I=F('.main-nav-search input[name="search"]');return I.width()<155?I.attr("placeholder","Search cities, hotels..."):I.attr("placeholder","Search cities, hotels and more..."),F("body").on("click",function(e){var a=F(".main-nav-nav, #main-nav-flyout");a.is(e.target)||0!==a.has(e.target).length||l.vars.can_animate&&(l.hideFlyout(),l.hideOverflow())}),"1"==F("#showNeswletterPopUp").val()&&(!/Android|webOS|iPhone|iPod|iPad|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&600<F(window).width()?l.showNewsletterPopup():F(window).width()<=600&&l.showMobileNewsletterPopup()),l.initNewsletterPopup(),l.initMobileNewsletterPopup(),F("#nav-destination-name").one("mouseover",function(e){F("#destination_menu").insertAfter(this)}),F(a).on("mouseover",function(e){F(this).addClass("hover")}).on("mouseout",function(e){F(this).removeClass("hover")}).on("click",function(e){return H=F(this).attr("data-id"),l.vars.can_animate?0===F(n).find("[data-id="+H+"]").length||(F(n).find("[data-id="+H+"]").hasClass("show")?l.hideFlyout(H):(F(f).hasClass("show")&&F(f).removeClass("show"),l.showFlyout(H),F(a).removeClass("hover"),F(this).addClass("hover"),F(c).parent().removeClass("toggle"),F(w).parent().removeClass("toggle")),e.preventDefault(),!1):(e.preventDefault(),!1)}),F(e).on("click",function(){if(!l.vars.can_animate)return!1;l.hideFlyout(),F(a).removeClass("hover")}),F(s).find("> a").on("mouseover",function(){H=F(this).attr("data-id"),F(this).parent().find("> a").removeClass("hover"),F(this).addClass("hover"),F(this).parent().parent().find(".main-nav-flyout-destinations-main > div").removeClass("show"),F(this).parent().parent().find(".main-nav-flyout-destinations-"+H).addClass("show")}),F(o).on("click",function(e){var a=F(this),i=F("body.minimal-nav .main-nav-minimal, .main-nav-nav").filter(":visible"),n=F("#main-nav"),s=F(this).find("> .fa"),t=null,o=null;return l.vars.can_animate&&(o="none"==F(P).css("display")?(t=l.vars.search,l.vars.search_box):(t=l.vars.search_mobile,l.vars.search_box_mobile),F(a).hasClass("close-search")?(F(".main-nav-mobile-search, .main-nav-minimal-search").removeClass("close-search"),s.removeClass("fa-times"),s.addClass("fa-search"),t.removeClass("focus"),i.removeClass("search"),F(".main-nav-nav").removeClass("search"),n.removeClass("search-open")):(F(a).addClass("close-search"),i.addClass("search"),s.removeClass("fa-search"),s.addClass("fa-times"),t.addClass("focus"),n.addClass("search-open"),o.focus())),e.preventDefault(),!1}),F(r).on("focus",function(e){F(".main-nav-search");var a=F(".main-nav-mobile-search, .main-nav-minimal-search"),i=a.find("> .fa"),n=F("body.minimal-nav .main-nav-minimal").filter(":visible"),s=F("#main-nav");return l.vars.can_animate&&((a=F(".main-nav-minimal").is(":visible")?F(".main-nav-minimal-search"):F(".main-nav-mobile-search")).hasClass("close-search")||(a.addClass("close-search"),n.addClass("search"),i.removeClass("fa-search"),i.addClass("fa-times"),F(t).addClass("focus"),F(".main-nav-nav").addClass("search"),s.addClass("search-open"))),e.preventDefault(),!1}),F(u).on("click",function(e){var a=F(this).find("> .fa"),i=F("#main-nav");return l.vars.can_animate&&(F(this).hasClass("overflow-expanded")?l.hideOverflow():(l.hideFlyout(),F(this).addClass("overflow-expanded"),a.removeClass("fa-plus"),a.addClass("fa-minus"),F(d).addClass("overflow-expanded"),i.toggleClass("overflow-open"))),e.preventDefault(),!1}),F(m).on("click",function(e){var a=F(this).find("> .fa"),i=F(".minimal-nav .main-nav-minimal"),n=F(".main-nav-nav"),s=F("#main-nav");return l.vars.can_animate&&(F(this).hasClass("minimal-nav-expanded")?l.hideMinimalNav():(F(this).addClass("minimal-nav-expanded"),a.removeClass("fa-bars"),a.addClass("fa-times"),i.addClass("minimal-nav-expanded"),n.addClass("minimal-nav-expanded"),s.toggleClass("minimal-nav-open"))),e.preventDefault(),!1}),F(h).on("click",function(e){var a=F("#main-nav");return F(f).hasClass("show")?(F(f).removeClass("show"),a.removeClass("login-open")):(l.hideFlyout(),F(f).addClass("show"),a.addClass("login-open")),e.preventDefault(),e.stopPropagation(),!1}),F(g).on("click",function(e){"undefined"!=typeof gapi&&gapi.auth2.getAuthInstance().signOut().then(function(){console.log("User signed out.")});F.ajax({url:"/ee/index.php?ACT=24",type:"GET",success:function(){window.location.href="/login/logout_ee.html?redirect_url="+window.location.href}})}),F(c).on("click",function(e){window.location.href="/login"}),F(v).submit(function(a){var e=F(v).find("[name=member_id]"),i=F(v).find("[name=password]");return""===F(e).val()||""===F(i).val()?(F(p).addClass("show").text("Please enter a username and password."),a.preventDefault(),!1):b?(F(p).removeClass("show"),!0):(F.ajax({type:"POST",url:F(this).attr("action"),data:F(this).serialize(),success:function(e){return null===F(e).find(".error").html()?(b=!0,F(v).trigger("submit"),F(p).removeClass("show"),!0):(F(p).addClass("show").text("The password entered does not match the username."),a.preventDefault(),!1)},error:function(){F(p).addClass("show").text("The password entered does not match the username.")}}),a.preventDefault(),!1)}),F(w).on("click",function(e){var a=F(this).parent(),i=F(a).attr("data-id");return l.vars.can_animate&&(F(a).hasClass("toggle")?(F(a).removeClass("toggle"),l.hideFlyout()):(F(a).addClass("toggle"),l.showFlyout(i)),F(c).parent().removeClass("toggle")),e.preventDefault(),!1}),F(y).on("submit",function(a){var e=F('[name="EMAIL"]'),i=(l.vars.flyout,l.vars.container,F(this));return""!==F(e).attr("value")&&/\S+@\S+\.\S+/.test(F(e).val())?(i.find("input[type=submit]").addClass("disabled").hide().after('<div class="spinner"><img src="/images/spinner.gif" /></div>'),i.find("input[type=submit]").prop("disabled",!0),!0===i.find("input[type=checkbox]").prop("checked")?i.find("input.optionalCheck").each(function(){F(this).prop("disabled",!1)}):i.find("input.optionalCheck").each(function(){F(this).prop("disabled",!0)}),F.ajax({type:"POST",url:i.attr("action"),data:i.serialize(),success:function(e){if(1!=(e=JSON.parse(e)).status)return F(y)[0].reset(),F(_).addClass("show").text("Please enter a valid email address and try again."),i.find(".spinner").remove(),i.find("input[type=submit]").removeClass("disabled").show(),i.find("input[type=submit]").prop("disabled",!1),a.preventDefault(),!1;F(_).removeClass("show"),F(y).addClass("hide"),F(C).addClass("show").html("Thank you for your interest!<br /><br />Look out for our newsletters with travel tips and special offers."),utag.link({module_type:"Header",module_variation:"Subscribe Newsletter Button",event_type:"newsletter_signup",pid:e.Pid}),document.cookie="newsletter=fodorssub;expires="+new Date((new Date).getTime()+31536e3).toUTCString()+";path=/"},error:function(){F(_).addClass("show").text("Could not subscribe. Please try again later."),i.find(".spinner").remove(),i.find("input[type=submit]").removeClass("disabled").show(),i.find("input[type=submit]").prop("disabled",!1),a.preventDefault()}})):F(_).addClass("show").text("Please enter a valid email address"),a.preventDefault(),!1}),F(k).on("click",function(){var e,a=F(this).next();F(a).hasClass("show")?(F(this).removeClass("toggle"),F(a).removeClass("show")):(F(this).addClass("toggle"),F(a).addClass("show")),e=F(".main-nav-flyout-subscribe").innerHeight(),F(n).css({maxHeight:e,overflow:"hidden"}),F(i).css({paddingBottom:e}),setTimeout(function(){F(n).css({overflow:"none"})},500)}),F("#main-footer").on("click",".newsletter-signup",function(){var e=F("#main-footer .main-footer-subscribe");"none"==e.css("display")&&e.css("display","block"),setTimeout(function(){e.addClass("jsSlideUp")},200),e.on("click",".newsletter-close",function(){F(this).off("click"),e.removeClass("jsSlideUp")})}),F(D).on("focus",'input[name="EMAIL"]',function(e){F("#main-footer .main-footer-subscribe").find(".jsDesktopToggle").addClass("jsShow")}),F(D).on("submit",function(n){n.preventDefault(),n.stopPropagation();var s=F(this),e=s.find('[name="EMAIL"]'),a=s.find('[name="PC"]'),t=s.find("input[type=submit]"),o=s.closest(".main-footer-subscribe").find(".footer-subscribe-error").first(),i=o.clone().addClass("zipError"),l=s.closest(".main-footer-subscribe").find(".footer-subscribe-success");return F("footer .zipError").length?i=F("footer .zipError"):i.insertAfter(a),""!==e.val()?(/\S+@\S+\.\S+/.test(e.val())?isNaN(a.val())||5!=a.val().length?i.addClass("show").text("Please enter a valid zipcode").delay(3e3).queue(function(){F(this).removeClass("show").dequeue()}):(!0===s.find("input[type=checkbox]").prop("checked")?s.find("input.optionalCheck").each(function(){F(this).prop("disabled",!1)}):s.find("input.optionalCheck").each(function(){F(this).prop("disabled",!0)}),t.addClass("disabled").hide().after('<div class="spinner"><img src="/images/spinner.gif" /></div>'),t.prop("disabled",!0),F.ajax({type:"POST",url:s.attr("action"),data:s.serialize(),success:function(e){if(1!=(e=JSON.parse(e)).status)return s[0].reset(),o.addClass("show").text("Please enter a valid email address and try again.").delay(3300).queue(function(){F(this).removeClass("show").dequeue()}),s.find(".spinner").remove(),t.removeClass("disabled").show(),t.prop("disabled",!1),n.preventDefault(),!1;o.removeClass("show"),s.addClass("hide"),l.addClass("show").html('<strong>Thank you for your interest!</strong> <span class="br1">Look out for</span> <span class="br2">our newsletters with travel tips and special offers.</span>').delay(3300).queue(function(){F("#main-footer .main-footer-subscribe").removeClass("jsSlideUp").dequeue()}),utag.link({module_type:"Footer",module_variation:"Subscribe Newsletter Button",event_type:"newsletter_signup",pid:e.Pid}),document.cookie="newsletter=fodorssub;expires="+new Date((new Date).getTime()+31536e3).toUTCString()+";path=/"},error:function(e,a,i){o.addClass("show").text("Could not subscribe. Please try again later.").delay(3300).queue(function(){F(this).removeClass("show").dequeue()}),s.find(".spinner").remove(),t.removeClass("disabled").show(),t.prop("disabled",!1),n.preventDefault()}})):o.addClass("show").text("Please enter a valid email address").delay(3e3).queue(function(){F(this).removeClass("show").dequeue()}),n.preventDefault()):o.addClass("show").text("Please enter a valid email address").delay(3300).queue(function(){F(this).removeClass("show").dequeue()}),!1}),F(x).on("click",function(e){var a,i=["popup-desktop-30","popup-desktop-daily","popup-desktop-shows","popup-mobile-30","popup-mobile-daily","popup-mobile-shows"],n=0;for(F(T).trigger("click"),n=0,a=i.length;n<a;n+=1)document.cookie=i[n]+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;";return(F(window).width()<=600?newsletterPopupMobile:newsletterPopupDesktop)(!0),e.preventDefault(),!1}),F(P).on("click",function(e){F(this).find("> .fa");return F(this).hasClass("toggle")?(F(this).removeClass("toggle"),F("body").removeClass("main-nav-mobile"),F(T).removeClass("slide-in")):(F(this).addClass("toggle"),F("body").addClass("main-nav-mobile"),setTimeout(function(){F(T).addClass("slide-in")},100)),e.preventDefault(),e.stopPropagation(),!1}),F(S).find("> a").on("click",function(e){var a=F(this).parent(),i=F(this).find("> .fa"),n=F(this).next(".main-nav-mobile-collapsable-children");return F(a).hasClass("expand")?(F(a).removeClass("expand"),F(i).removeClass("fa-chevron-up"),F(i).addClass("fa-chevron-down"),F(n).hide(),F(this).blur()):(F(a).addClass("expand"),F(i).removeClass("fa-chevron-down"),F(i).addClass("fa-chevron-up"),F(n).show()),e.preventDefault(),!1}),F(T).on("click",function(){F(P).trigger("click")}),null!==navigator.userAgent.match(/iPad/i)&&"/login/"===window.location.pathname&&(F("html, body, .main-content.registration, #main-footer, #footer-lock-up").css({width:document.documentElement.clientWidth,"max-width":document.documentElement.clientWidth,"box-sizing":"border-box","overflow-x":"hidden"}),F(".main-content + .push").css({width:document.documentElement.clientWidth,height:"163px",background:"#efefef","box-sizing":"border-box"}),F(i).removeAttr("style"),F(i).css({width:document.documentElement.clientWidth,"box-sizing":"border-box"})),F(window).on("resize",function(){null!==navigator.userAgent.match(/iPad/i)&&"/login/"===window.location.pathname&&(F(i).removeAttr("style"),F(i).css({width:document.documentElement.clientWidth,"box-sizing":"border-box"})),I.width()<155?I.attr("placeholder","Search cities, hotels..."):I.attr("placeholder","Search cities, hotels and more...")}),0!==F("#checkm8Ad_0").length&&F("body").addClass("reskin"),setInterval(function(){0!==F("#checkm8Ad_0").length&&(F("body").addClass("reskin"),clearInterval())},1e3),F("#main-nav .main-nav-home a").one("click",function(){utag.link({module_type:"Header",module_variation:"Logo"})}),F("#main-nav .main-nav-social a").one("click",function(){utag.link({module_type:"Header",module_variation:F(this).text()+" Button"})}),F("#main-nav .main-nav-subscribe a").one("click",function(){utag.link({module_type:"Header",module_variation:"Subscribe"})}),F("#main-nav .main-nav-login a").one("click",function(){utag.link({module_type:"Header",module_variation:"Log In"})}),F("#main-nav-flyout .main-nav-flyout-login input[type=submit]").one("click",function(){utag.link({module_type:"Header",module_variation:"Log In Button"})}),F("#main-nav-flyout .main-nav-flyout-login .main-nav-flyout-login-facebook").parent().one("click",function(){utag.link({module_type:"Header",module_variation:"Facebook Log In Button"})}),F("#main-nav-flyout .main-nav-flyout-login .main-nav-flyout-login-twitter").parent().one("click",function(){utag.link({module_type:"Header",module_variation:"Twitter Log In Button"})}),F("#main-nav .main-nav-nav > a").one("click",function(){utag.link({module_type:"Header",module_variation:F(this).text()})}),F("#main-nav-flyout .main-nav-flyout-destinations-sidebar > a").on("click",function(){utag.link({module_type:"Header | Destinations",module_variation:F(this).text()})}),F("#main-nav-flyout .main-nav-flyout-destinations-top-primary > a").on("click",function(){var e=F(this).parent().parent().prev().text().replace("Top Destinations In ","");utag.link({module_type:"Header | Destinations",module_variation:e+" Image"})}),F("#main-nav-flyout .main-nav-flyout-destinations-top-secondary > a").on("click",function(){var e=F(this).parent().parent().prev().text().replace("Top Destinations In ","");F(this).hasClass("main-nav-flyout-destinations-top-secondary-all")||utag.link({module_type:"Header | Destinations",module_variation:e+" Link"})}),F("#main-nav-flyout .main-nav-flyout-destinations-top-secondary-all").on("click",function(){var e=F(this).parent().parent().prev().text().replace("Top Destinations In ","");utag.link({module_type:"Header | Destinations",module_variation:e+" View All"})}),F("#main-nav-flyout .main-nav-flyout-destinations-all").on("click",function(){utag.link({module_type:"Header | Destinations",module_variation:F(this).text()})}),F("#main-nav-flyout .main-nav-flyout-cruises a").on("click",function(){utag.link({module_type:"Header | Cruises",module_variation:F(this).text().replace("Cruise ","").replace("Cruising ","").replace("Line & Ship ","")})}),F("#main-nav-flyout .main-nav-flyout-store a").on("click",function(){utag.link({module_type:"Header | Store",module_variation:F(this).text()})}),F("#main-nav-flyout .main-nav-flyout-forums-links a").on("click",function(){utag.link({module_type:"Header | Forums",module_variation:F(this).text()})}),F("#main-nav-flyout .main-nav-flyout-forums-all a").on("click",function(){utag.link({module_type:"Header | Forums",module_variation:F(this).text()})}),F("#main-nav-flyout .main-nav-flyout-trip-ideas-links a").on("click",function(){utag.link({module_type:"Header | Trip Ideas",module_variation:F(this).text()})}),F("#main-nav-flyout .main-nav-flyout-trip-ideas-all a").on("click",function(){utag.link({module_type:"Header | Trip Ideas",module_variation:F(this).text()})}),F("#main-footer ul li a").one("click",function(){utag.link({module_type:"Footer",module_variation:F(this).text()})}),F("#main-footer .main-footer-social a").one("click",function(){var e=F(this).find("img").attr("alt");utag.link({module_type:"Footer",module_variation:e+" Button"})}),F(".register-form #fb-login").on("click",function(){utag.link({module_type:"Log In Page",module_variation:"Facebook Log In Button"})}),F(".register-form input[type=submit]").on("click",function(){utag.link({module_type:"Log In Page",module_variation:"Log In Button"})}),F(".register-form #twitter-login-button").on("click",function(){utag.link({module_type:"Log In Page",module_variation:"Twitter Log In Button"})}),F(".main-nav-mobile-links > a, .main-nav-mobile-collapsable > a").one("click",function(){utag.link({module_type:"Header",module_variation:F(this).text().trim()})}),F(".main-nav-mobile-social a").one("click",function(){utag.link({module_type:"Header",module_variation:F(this).text().trim()+" Button"})}),F(".main-nav-mobile-subscribe a").one("click",function(){utag.link({module_type:"Header",module_variation:"Subscribe"})}),F(".mobile-popup .submit").one("click",function(){utag.link({module_type:"Subscribe Popup",module_variation:"Subscribe Newsletter Button"})}),F(".main-nav-mobile-login a").on("click",function(){utag.link({module_type:"Header",module_variation:"Log In"})}),F(".main-nav-mobile-collapsable-children a").on("click",function(){var e=F(this).parent().prev().text().trim();utag.link({module_type:"Header | "+e,module_variation:F(this).text().trim().replace("Cruise ","").replace("Cruising ","")})}),this},showFlyout:function(e){var a,i=this,n=(this.vars.container,this.vars.main),s=(this.vars.flyout_container,this.vars.nav),t=this.vars.flyout,o=F(t).find("[data-id="+e+"]");return!!i.vars.can_animate&&(i.hideOverflow(),i.vars.can_animate=!1,!(!o||1!==o.length)&&(F(o).hasClass("show")?this.hideFlyout():(F(t).find("[data-id]").removeClass("show"),F(s).removeClass("hover"),F(s).parent().find("[data-id="+e+"]").addClass("hover"),F(n).addClass("flyout-open"),F(t).addClass("show"),F(o).addClass("show"),a=F(o).innerHeight(),F(t).css({maxHeight:a,overflow:"hidden"}),i.vars.tm=clearTimeout(i.vars.tm),i.vars.tm=setTimeout(function(){F(t).css({overflow:"visible"}),i.vars.can_animate=!0},500)),!0))},hideFlyout:function(){var e=this,a=this.vars.container,i=this.vars.main,n=this.vars.nav,s=this.vars.flyout,t=F(s).find("> div"),o=this.vars.login,l=this.vars.subscribe;if(!e.vars.can_animate)return!1;F(o).parent().removeClass("toggle"),F(l).parent().removeClass("toggle"),F(n).removeClass("hover"),F(s).css({maxHeight:0,overflow:"hidden"}),F(a).css({paddingBottom:0}),e.vars.tm=clearTimeout(e.vars.tm),e.vars.tm=setTimeout(function(){F(n).removeClass("hover"),F(s).removeClass("show"),F(t).removeClass("show"),F(i).removeClass("flyout-open"),e.vars.can_animate=!0},500)},dests:function(){var e=this.vars.destinations_sidebar,u=this.vars.destinations_main;return F(e).find("> a").each(function(e){var a,n,s,i=F(this).attr("data-id"),t=F(this).text(),o=F(this).attr("href"),l=0,r=0;F(u).append('<div class="main-nav-flyout-destinations-'+i+(0===e?" show":"")+'"><p>Top Destinations In '+t+'</p><div class="main-nav-flyout-destinations-top"><div class="main-nav-flyout-destinations-top-primary"></div><div class="main-nav-flyout-destinations-top-secondary"><a href="'+o+'" class="main-nav-flyout-destinations-top-secondary-all">View All '+t+'</a></div></div><a href="/world" class="main-nav-flyout-destinations-all">View All Destinations</a></div>'),a=F(".main-nav-flyout-destinations-"+i),n=F(a).find(".main-nav-flyout-destinations-top-primary"),s=F(a).find(".main-nav-flyout-destinations-top-secondary"),F.ajax({url:window.location.origin+"/services/destinations/get_top_destinations/"+i,type:"GET",success:function(e){var a=e.data;for(l=0,r=3;l<r;l+=1)if(null!=a[l]){var i=a[l].image;null!==i&&(i=i.replace("http://","//")),F(n).append('<a href="'+a[l].url+'" style="background-image:url('+i+');"><span>'+a[l].title+"</span></a>")}for(l=7,r=3;r<=l;--l)null!=a[l]&&F(s).prepend('<a href="'+a[l].url+'">'+a[l].title+"</a>")}})}),F.ajax({url:window.location.origin+"/wp-admin/admin-ajax.php?action=get_current_go_list_post",type:"GET",success:function(e){var a=e.post;a.url&&a.year&&F(u).append('<a href="'+a.url+'"><div class="go-list-badge"><div class="go-list-year">'+a.year+"</div></div>")}}),this},hideOverflow:function(){this.vars.overflow;var e=this.vars.overflow_toggle,a=this.vars.overflow_menu,i=this.vars.main,n=e.find("> .fa");e.hasClass("overflow-expanded")&&(e.removeClass("overflow-expanded"),n.removeClass("fa-minus"),n.addClass("fa-plus"),F(a).removeClass("overflow-expanded"),F(i).toggleClass("overflow-open"))},hideMinimalNav:function(){var e=this.vars.minimal_nav,a=this.vars.minimal_toggle,i=this.vars.loggedin_dropdown,n=F(".main-nav-nav"),s=this.vars.main,t=a.find("> .fa");F(i).hasClass("show")&&F(i).removeClass("show"),this.hideFlyout(),a.removeClass("minimal-nav-expanded"),t.removeClass("fa-times"),t.addClass("fa-bars"),F(e).removeClass("minimal-nav-expanded"),n.removeClass("minimal-nav-expanded"),F(s).removeClass()},showNewsletterPopup:function(){var e=F("#newsletter-popup"),a=(F("#newsletter-popup form"),F("#newsletter-collapse")),i=F("#newsletter-collapse-target");e.delay(3e4).fadeIn(500),a.off().on("click",function(){i.slideToggle(400,function(){a.toggleClass("newsletter-popup-not-collapsed",F(this).is(":visible"))})})},initNewsletterPopup:function(){F("#newsletter-popup");var e=F("#newsletter-popup form");F("#newsletter-collapse"),F("#newsletter-collapse-target");e.on("submit",function(e){e.preventDefault(),e.stopPropagation();var a="Could not subscribe. Please try again later.",i=F(this),n=i.find('[name="EMAIL"]'),s=i.find("input[type=submit]"),t=F("#newsletter-collapse"),o=F("#newsletter-collapse-target"),l=F("#newsletter-popup-validation-message"),r=F("#newsletter-popup-step-1"),u=F("#newsletter-popup-step-2"),d=F("#newsletter-collapse-button"),m=n.val();/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(m)?(s.addClass("disabled").hide().after('<div class="spinner"><img src="/images/spinner.gif" /></div>'),s.prop("disabled",!0),window.ga&&ga("send","event","Personalized Newsletter Sign-Up","signup"),F.ajax({type:"POST",url:i.attr("action"),data:i.serialize()}).done(function(e){1==e.status?(l.hide(),r.hide(),d.hide(),u.show(),t.delay(5e3).queue(function(){o.slideToggle(400,function(){t.toggleClass("newsletter-popup-not-collapsed",F(this).is(":visible")),t.dequeue()})})):l.text(a).show()}).fail(function(){l.text(a).show()}).always(function(){i.find(".spinner").remove(),s.removeClass("disabled").show(),s.prop("disabled",!1)})):l.text("Please enter a valid email address.").show()})},showMobileNewsletterPopup:function(){var a=F("#newsletter-popup-mobile");F("#newsletter-signup-mobile"),F(".signup-mobile-step-1"),F(".signup-mobile-step-2");a&&(a.delay(3e4).queue(function(e){F(this).css("display","block"),setTimeout(function(){a.addClass("jsSlideUp"),a.dequeue()},200)}),a.delay(1e4).queue(function(e){F(this).removeClass("jsSlideUp"),setTimeout(function(){a.css("display","none")},1e3)}))},initMobileNewsletterPopup:function(){var a=F("#newsletter-popup-mobile"),r=F("#newsletter-signup-mobile"),i=(F(".signup-mobile-step-1"),F(".signup-mobile-step-2"),!1);a&&(a.on("click",function(e){"close-popup"==F(e.target).attr("class")?(a.removeClass("jsSlideUp"),setTimeout(function(){a.css("display","none")},1e3)):(i||(F("#newsletter-signup-mobile").css("background-image","url('/images/newsletter-signup-mobile.png')"),i=!0),r.css("display","block"),setTimeout(function(){r.addClass("jsSlideUp")},200))}),F(".close-signup").on("click",function(){r.removeClass("jsSlideUp"),setTimeout(function(){r.css("display","none")},1e3)}),F("#newsletter-signup-mobile-sub-btn").on("click",function(){var e=F("#mobile-signup-form"),a=F("#mobile-newsletter-email"),n=F(".newsletter-signup-error"),s=F(".signup-mobile-step-1"),t=F(".signup-mobile-step-2"),o=F("#newsletter-popup-mobile"),i=F(this),l=new RegExp(/\S+@\S+\.\S+/);n.is(":visible")&&n.hide(),l.test(F(a).val())?(i.attr("disabled",!0),F.ajax({type:"POST",url:e.attr("action"),data:e.serializeArray()}).done(function(e,a,i){200==i.status?(s.hide(),t.show(),o.hide(),r.delay(1e3).queue(function(){r.removeClass("jsSlideUp")})):F(n).show()}).fail(function(){F(n).show()}).always(function(){i.attr("disabled",!1)})):F(n).show()}))},init:function(){this.setup()&&(this.events(),this.dests())}};window.main_nav=e}(jQuery);